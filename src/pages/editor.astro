---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import AppShell from '../components/AppShell.astro';
import Header from '../components/Header.svelte'; // ğŸ‘ˆ å‰¯æª”åè®Šäº†
import MediaSidebar from '../components/MediaSidebar.astro';
import VideoPlayer from '../components/VideoPlayer.svelte'; 
import Timeline from '../components/Timeline.svelte';   // âœ… æ”¹ç”¨é€™å€‹
import PropertiesPanel from '../components/PropertiesPanel.svelte'; // ğŸ‘ˆ å‰¯æª”åè®Šäº†
import ProjectSaver from '../components/ProjectSaver.svelte';
---

<Layout>
  <!-- ä½¿ç”¨ AppShell ä¾†ç®¡ç†ä½ˆå±€ -->
 <AppShell cleanMode={true}>
      <ProjectSaver client:only="svelte" slot="header" /> 
    <!-- 1. é ‚éƒ¨ Header -->
    <Header slot="header" client:load />

    <!-- 2. å·¦å´ Sidebar -->
    <MediaSidebar slot="left-sidebar" />

    <!-- 3. ä¸­é–“å€åŸŸ (é€™è£¡æˆ‘å€‘ç›´æ¥æ”¾å…¥å…©å€‹å…ƒä»¶ï¼Œå› ç‚º AppShell çš„ main æ’æ§½æ˜¯ flex-col) -->
    <div slot="main" class="flex flex-col h-full">
       <VideoPlayer client:load />
      <Timeline client:load />
    </div>

     <!-- ğŸ‘‡ åŠ ä¸Š client:load ä»¥å•Ÿç”¨äº’å‹• -->
    <PropertiesPanel slot="right-sidebar" client:load />

  </AppShell>
</Layout>